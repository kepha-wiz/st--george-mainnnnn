<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI-Powered Library - St. George Biology Class</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<link rel="icon" href="static/logo1.png" type="image/png">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
/* Confirmation Modal */
.confirmation-modal {
display: none;
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0, 0, 0, 0.7);
z-index: 1000;
align-items: center;
justify-content: center;
}
.confirmation-modal.active {
display: flex;
}
.modal-content {
background: rgba(30, 30, 30, 0.95);
backdrop-filter: blur(10px);
border-radius: 15px;
padding: 2rem;
max-width: 500px;
width: 90%;
border: 1px solid rgba(255, 255, 255, 0.2);
box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
}
.modal-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 1.5rem;
}
.modal-title {
font-size: 1.5rem;
color: #e74c3c;
}
.modal-close {
background: none;
border: none;
color: white;
font-size: 1.5rem;
cursor: pointer;
}
.modal-body {
margin-bottom: 1.5rem;
color: #e0e0e0;
line-height: 1.5;
}
.modal-actions {
display: flex;
gap: 1rem;
justify-content: flex-end;
}
.modal-btn {
padding: 0.7rem 1.5rem;
border: none;
border-radius: 8px;
font-weight: 600;
cursor: pointer;
transition: all 0.3s ease;
}
.confirm-btn {
background: linear-gradient(90deg, #e74c3c, #c0392b);
color: white;
}
.confirm-btn:hover {
transform: translateY(-2px);
box-shadow: 0 4px 12px rgba(231, 76, 60, 0.3);
}
.cancel-btn {
background: rgba(255, 255, 255, 0.1);
color: white;
border: 1px solid rgba(255, 255, 255, 0.3);
}
.cancel-btn:hover {
background: rgba(255, 255, 255, 0.2);
}
.delete-btn {
    padding: 0.7rem;
    border: none;
    border-radius: 10px;
    background: linear-gradient(90deg, #e74c3c, #c0392b);
    color: white;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    text-align: center;
    text-decoration: none;
}
.delete-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(231, 76, 60, 0.3);
}
.delete-btn i {
    margin-right: 0.5rem;
}
/* Base Styles */
* {
margin: 0;
padding: 0;
box-sizing: border-box;
font-family: 'Segoe UI', 'Roboto', Arial, sans-serif;
}
body {
background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)),
url('https://images.unsplash.com/photo-1532094349884-543bc11b234d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80');
background-size: cover;
background-position: center;
background-attachment: fixed;
min-height: 100vh;
color: #fff;
overflow-x: hidden;
}
/* AI Background Elements */
.ai-bg {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
z-index: -1;
overflow: hidden;
}
.ai-element {
position: absolute;
opacity: 0.07;
animation: float 20s infinite linear;
}
.circuit {
width: 80px;
height: 80px;
background: linear-gradient(45deg, #4a6fa5, #2c4c7c);
clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
box-shadow: 0 0 15px rgba(74, 111, 165, 0.3);
}
.neural {
width: 60px;
height: 60px;
border-radius: 50%;
background: radial-gradient(circle, #4a6fa5, #2c4c7c);
box-shadow: 0 0 15px rgba(74, 111, 165, 0.3);
}
.data {
width: 40px;
height: 100px;
background: linear-gradient(to bottom, #4a6fa5, #2c4c7c, #4a6fa5);
border-radius: 20px;
box-shadow: 0 0 15px rgba(74, 111, 165, 0.3);
}
@keyframes float {
0% {
transform: translateY(0) rotate(0deg);
opacity: 0.07;
}
50% {
opacity: 0.1;
}
100% {
transform: translateY(-100vh) rotate(360deg);
opacity: 0.07;
}
}
/* Main Container */
.container {
max-width: 1400px;
margin: 0 auto;
padding: 2rem;
}
/* Header Styles */
.header {
text-align: center;
margin-bottom: 3rem;
position: relative;
}
.header h1 {
font-size: 3.5rem;
margin-bottom: 1rem;
background: linear-gradient(90deg, #4a6fa5, #2c4c7c);
-webkit-background-clip: text;
background-clip: text;
color: transparent;
text-shadow: 0 0 30px rgba(74, 111, 165, 0.5);
}
.header p {
font-size: 1.3rem;
color: #e0e0e0;
max-width: 700px;
margin: 0 auto;
}
.ai-badge {
display: inline-block;
background: rgba(74, 111, 165, 0.2);
border: 1px solid rgba(74, 111, 165, 0.5);
border-radius: 30px;
padding: 0.5rem 1.5rem;
margin-top: 1rem;
font-size: 1rem;
color: #a0c4ff;
}
.ai-badge i {
margin-right: 0.5rem;
}
/* Admin Upload Button */
.admin-actions {
position: absolute;
top: 0;
right: 0;
}
.upload-btn {
display: inline-flex;
align-items: center;
padding: 0.7rem 1.5rem;
background: linear-gradient(90deg, #4a6fa5, #2c4c7c);
color: white;
border-radius: 30px;
text-decoration: none;
font-weight: 600;
transition: all 0.3s ease;
box-shadow: 0 4px 15px rgba(74, 111, 165, 0.3);
}
.upload-btn:hover {
transform: translateY(-2px);
box-shadow: 0 6px 20px rgba(74, 111, 165, 0.4);
}
.upload-btn i {
margin-right: 0.5rem;
}
/* Search Section */
.search-section {
background: rgba(255, 255, 255, 0.1);
backdrop-filter: blur(10px);
border-radius: 20px;
padding: 2rem;
margin-bottom: 3rem;
border: 1px solid rgba(255, 255, 255, 0.2);
box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
}
.search-container {
display: flex;
gap: 1rem;
margin-bottom: 1.5rem;
}
.search-input {
flex: 1;
padding: 1rem 1.5rem;
border: none;
border-radius: 50px;
background: rgba(255, 255, 255, 0.9);
color: #333;
font-size: 1.1rem;
box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
transition: all 0.3s ease;
}
.search-input:focus {
outline: none;
box-shadow: 0 0 0 3px rgba(74, 111, 165, 0.5);
}
.search-button {
padding: 1rem 2rem;
border: none;
border-radius: 50px;
background: linear-gradient(90deg, #4a6fa5, #2c4c7c);
color: white;
font-size: 1.1rem;
font-weight: 600;
cursor: pointer;
transition: all 0.3s ease;
box-shadow: 0 4px 15px rgba(74, 111, 165, 0.3);
}
.search-button:hover {
transform: translateY(-2px);
box-shadow: 0 6px 20px rgba(74, 111, 165, 0.4);
}
.search-button i {
margin-right: 0.5rem;
}
/* Filters */
.filters {
display: flex;
gap: 1rem;
flex-wrap: wrap;
}
.filter-group {
display: flex;
flex-direction: column;
gap: 0.5rem;
}
.filter-label {
font-size: 0.9rem;
color: #a0c4ff;
font-weight: 500;
}
.filter-options {
display: flex;
gap: 0.5rem;
flex-wrap: wrap;
}
.filter-tag {
padding: 0.5rem 1rem;
border-radius: 20px;
background: rgba(255, 255, 255, 0.2);
border: 1px solid rgba(255, 255, 255, 0.3);
color: white;
font-size: 0.9rem;
cursor: pointer;
transition: all 0.3s ease;
}
.filter-tag:hover, .filter-tag.active {
background: rgba(74, 111, 165, 0.3);
border-color: rgba(74, 111, 165, 0.5);
}
/* Stats Section */
.stats-section {
display: flex;
gap: 1.5rem;
margin-bottom: 2rem;
flex-wrap: wrap;
}
.stat-card {
flex: 1;
min-width: 200px;
background: rgba(255, 255, 255, 0.1);
backdrop-filter: blur(10px);
border-radius: 15px;
padding: 1.5rem;
border: 1px solid rgba(255, 255, 255, 0.2);
text-align: center;
transition: all 0.3s ease;
}
.stat-card:hover {
transform: translateY(-5px);
box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
}
.stat-number {
font-size: 2rem;
font-weight: 700;
color: #a0c4ff;
margin-bottom: 0.5rem;
}
.stat-label {
font-size: 1rem;
color: #e0e0e0;
}
/* Resources Section */
.resources-section {
margin-bottom: 3rem;
}
.section-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 1.5rem;
}
.section-title {
font-size: 2rem;
color: #a0c4ff;
display: flex;
align-items: center;
}
.section-title i {
margin-right: 0.8rem;
}
.sort-dropdown {
padding: 0.7rem 1rem;
border-radius: 10px;
background: rgba(255, 255, 255, 0.1);
border: 1px solid rgba(255, 255, 255, 0.3);
color: white;
font-size: 0.9rem;
cursor: pointer;
}
.resources-grid {
display: grid;
grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
gap: 2rem;
}
.resource-card {
background: rgba(255, 255, 255, 0.1);
backdrop-filter: blur(10px);
border-radius: 20px;
padding: 1.5rem;
border: 1px solid rgba(255, 255, 255, 0.2);
transition: all 0.3s ease;
position: relative;
overflow: hidden;
}
.resource-card::before {
content: '';
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 5px;
background: linear-gradient(90deg, #4a6fa5, #2c4c7c);
}
.resource-card:hover {
transform: translateY(-5px);
box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
border-color: rgba(74, 111, 165, 0.5);
}
.resource-type {
display: inline-block;
padding: 0.3rem 0.8rem;
border-radius: 20px;
background: rgba(74, 111, 165, 0.2);
color: #a0c4ff;
font-size: 0.8rem;
margin-bottom: 1rem;
}
.resource-title {
font-size: 1.3rem;
margin-bottom: 0.8rem;
color: white;
}
.resource-description {
color: #e0e0e0;
margin-bottom: 1.5rem;
line-height: 1.5;
}
.resource-meta {
display: flex;
justify-content: space-between;
margin-bottom: 1.5rem;
font-size: 0.9rem;
color: #a0c4ff;
}
.resource-author {
display: flex;
align-items: center;
}
.resource-author i {
margin-right: 0.5rem;
}
.resource-stats {
display: flex;
align-items: center;
}
.resource-stats i {
margin-right: 0.5rem;
}
.resource-rating {
display: flex;
align-items: center;
color: #ffd700;
margin-right: 1rem;
}
.resource-file-info {
display: flex;
align-items: center;
margin-bottom: 1rem;
font-size: 0.9rem;
color: #a0c4ff;
}
.resource-file-info i {
margin-right: 0.5rem;
}
.file-size {
margin-left: 0.5rem;
font-size: 0.8rem;
color: #e0e0e0;
}
.ai-summary {
background: rgba(74, 111, 165, 0.1);
border-left: 3px solid #4a6fa5;
padding: 1rem;
border-radius: 0 10px 10px 0;
margin-bottom: 1.5rem;
font-size: 0.9rem;
color: #e0e0e0;
line-height: 1.5;
}
.ai-summary-title {
display: flex;
align-items: center;
color: #a0c4ff;
margin-bottom: 0.5rem;
font-weight: 600;
}
.ai-summary-title i {
margin-right: 0.5rem;
}
.resource-tags {
display: flex;
flex-wrap: wrap;
gap: 0.5rem;
margin-bottom: 1.5rem;
}
.resource-tag {
padding: 0.3rem 0.8rem;
border-radius: 20px;
background: rgba(255, 255, 255, 0.1);
color: #a0c4ff;
font-size: 0.8rem;
}
.resource-actions {
display: flex;
gap: 1rem;
}
.view-btn {
flex: 1;
padding: 0.7rem;
border: none;
border-radius: 10px;
background: linear-gradient(90deg, #4a6fa5, #2c4c7c);
color: white;
font-weight: 600;
cursor: pointer;
transition: all 0.3s ease;
text-align: center;
text-decoration: none;
}
.view-btn:hover {
transform: translateY(-2px);
box-shadow: 0 4px 12px rgba(74, 111, 165, 0.3);
}
.view-btn i {
margin-right: 0.5rem;
}
/* Empty State */
.empty-state {
text-align: center;
padding: 3rem 1rem;
grid-column: 1 / -1;
}
.empty-state i {
font-size: 4rem;
color: #4a6fa5;
margin-bottom: 1rem;
opacity: 0.7;
}
.empty-state h3 {
font-size: 1.5rem;
margin-bottom: 0.5rem;
color: #a0c4ff;
}
.empty-state p {
color: #e0e0e0;
}
/* AI Assistant */
.ai-assistant {
position: fixed;
bottom: 30px;
right: 30px;
width: 60px;
height: 60px;
border-radius: 50%;
background: linear-gradient(135deg, #4a6fa5, #2c4c7c);
color: white;
display: flex;
align-items: center;
justify-content: center;
font-size: 1.5rem;
cursor: pointer;
box-shadow: 0 4px 20px rgba(74, 111, 165, 0.4);
transition: all 0.3s ease;
z-index: 100;
}
.ai-assistant:hover {
transform: scale(1.1);
}
.ai-assistant.active {
width: 300px;
height: 400px;
border-radius: 20px;
flex-direction: column;
padding: 1.5rem;
}
.ai-chat-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 1rem;
padding-bottom: 1rem;
border-bottom: 1px solid rgba(255, 255, 255, 0.2);
}
.ai-chat-messages {
flex: 1;
overflow-y: auto;
margin-bottom: 1rem;
}
.ai-message {
padding: 0.8rem;
border-radius: 10px;
margin-bottom: 1rem;
max-width: 80%;
}
.ai-message.user {
background: rgba(255, 255, 255, 0.2);
align-self: flex-end;
margin-left: auto;
}
.ai-message.ai {
background: rgba(74, 111, 165, 0.3);
align-self: flex-start;
}
.ai-chat-input {
display: flex;
gap: 0.5rem;
}
.ai-chat-input input {
flex: 1;
padding: 0.8rem;
border: none;
border-radius: 20px;
background: rgba(255, 255, 255, 0.1);
color: white;
}
.ai-chat-input button {
padding: 0.8rem;
border: none;
border-radius: 50%;
background: rgba(255, 255, 255, 0.2);
color: white;
cursor: pointer;
}
/* Responsive Design */
@media (max-width: 768px) {
.container {
padding: 1rem;
}
.header h1 {
font-size: 2.5rem;
}
.admin-actions {
position: static;
margin-top: 1rem;
text-align: center;
}
.search-container {
flex-direction: column;
}
.stats-section {
flex-direction: column;
}
.resources-grid {
grid-template-columns: 1fr;
}
.ai-assistant.active {
width: 90%;
right: 5%;
left: 5%;
}
}
</style>
</head>
<body>
<!-- AI-themed background elements -->
<div class="ai-bg">
<div class="ai-element circuit" style="top: 10%; left: 5%; animation-delay: 0s;"></div>
<div class="ai-element neural" style="top: 20%; left: 15%; animation-delay: 2s;"></div>
<div class="ai-element data" style="top: 30%; left: 25%; animation-delay: 4s;"></div>
<div class="ai-element circuit" style="top: 40%; left: 35%; animation-delay: 6s;"></div>
<div class="ai-element neural" style="top: 50%; left: 45%; animation-delay: 8s;"></div>
<div class="ai-element data" style="top: 60%; left: 55%; animation-delay: 10s;"></div>
<div class="ai-element circuit" style="top: 70%; left: 65%; animation-delay: 12s;"></div>
<div class="ai-element neural" style="top: 80%; left: 75%; animation-delay: 14s;"></div>
<div class="ai-element data" style="top: 90%; left: 85%; animation-delay: 16s;"></div>
<div class="ai-element circuit" style="top: 15%; left: 95%; animation-delay: 18s;"></div>
</div>
<div class="container">
<div class="header">
<h1>AI-Powered Library</h1>
<p>Access our comprehensive collection of biology resources powered by artificial intelligence</p>
<div class="ai-badge">
<i class="fas fa-robot"></i> AI Enhanced
</div>
<!-- Admin Upload Button - Only visible to admin users -->
{% if current_user and current_user.user_type == 'admin' %}
<div class="admin-actions">
<a href="{{ url_for('views.upload_library_resource') }}" class="upload-btn">
<i class="fas fa-upload"></i> Upload Resource
</a>
</div>
{% endif %}
</div>
<div class="search-section">
<div class="search-container">
<input type="text" class="search-input" placeholder="Search for books, papers, videos, and more..." value="{{ search_query }}">
<button class="search-button">
<i class="fas fa-search"></i> Search
</button><i class="fa-dna"><a href="{{ url_for('views.home') }}" class="upload-btn">BACK TO DASHBOARD</a></i>
</div>
<div class="filters">
<div class="filter-group">
<div class="filter-label">Categories</div>
<div class="filter-options">
<div class="filter-tag active">All</div>
{% for category in categories %}
<div class="filter-tag">{{ category }}</div>
{% endfor %}
</div>
</div>
<div class="filter-group">
<div class="filter-label">Resource Types</div>
<div class="filter-options">
<div class="filter-tag active">All</div>
{% for type in resource_types %}
<div class="filter-tag">{{ type }}</div>
{% endfor %}
</div>
</div>
</div>
</div>
<div class="stats-section">
<div class="stat-card">
<div class="stat-number">{{ resources|length }}</div>
<div class="stat-label">Total Resources</div>
</div>
<div class="stat-card">
<div class="stat-number">{{ categories|length }}</div>
<div class="stat-label">Categories</div>
</div>
<div class="stat-card">
<div class="stat-number">{{ resource_types|length }}</div>
<div class="stat-label">Resource Types</div>
</div>
<div class="stat-card">
<div class="stat-number">{{ "%0.1f"|format(resources|sum(attribute='downloads') / 1000) if resources else 0 }}K</div>
<div class="stat-label">Total Views</div>
</div>
</div>
<div class="resources-section">
<div class="section-header">
<h2 class="section-title">
<i class="fas fa-book"></i> Library Resources
</h2>
<select class="sort-dropdown">
<option>Sort by: Newest First</option>
<option>Sort by: Most Viewed</option>
<option>Sort by: Highest Rated</option>
</select>
</div>
<div class="resources-grid">
{% if resources %}
{% for resource in resources %}
<div class="resource-card">
<div class="resource-type">{{ resource.type }}</div>
<h3 class="resource-title">{{ resource.title }}</h3>
<p class="resource-description">{{ resource.description }}</p>
<div class="resource-meta">
<div class="resource-author">
<i class="fas fa-user"></i> {{ resource.author }}
</div>
<div class="resource-stats">
<div class="resource-rating">
<i class="fas fa-star"></i> {{ "%.1f"|format(resource.rating) if resource.rating else "N/A" }}
</div>
<div>
<i class="fas fa-eye"></i> {{ resource.downloads }}
</div>
</div>
</div>
<div class="resource-file-info">
<i class="fas fa-file"></i> {{ resource.file_name }}
<span class="file-size">
({{
"%.1f MB" if resource.file_size < 1024*1024*1024 else "%.1f GB" | format(
resource.file_size / 1024 / 1024 if resource.file_size < 1024*1024*1024 else resource.file_size / 1024 / 1024 / 1024
)
}})
</span>
</div>
<div class="ai-summary">
<div class="ai-summary-title">
<i class="fas fa-brain"></i> AI Summary
</div>
{{ resource.ai_summary or "No AI summary available." }}
</div>
<div class="resource-tags">
{% for tag in resource.tags %}
<div class="resource-tag">{{ tag }}</div>
{% endfor %}
</div>
<div class="resource-actions">
<a href="{{ url_for('views.view_library_resource', resource_id=resource.id) }}" class="view-btn">
<i class="fas fa-eye"></i> View Online
</a>
{% if current_user and current_user.user_type == 'admin' %}
<a href="#" class="delete-btn" data-id="{{ resource.id }}" data-title="{{ resource.title }}">
<i class="fas fa-trash"></i> Delete
</a>
{% endif %}
</div>
</div>
{% endfor %}
{% else %}
<div class="empty-state">
<i class="fas fa-search"></i>
<h3>No resources found</h3>
<p>Try adjusting your search or filter criteria</p>
</div>
{% endif %}
</div>
</div>
</div>
<!-- Confirmation Modal -->
<div class="confirmation-modal" id="deleteConfirmationModal">
<div class="modal-content">
<div class="modal-header">
<h3 class="modal-title">Confirm Deletion</h3>
<button class="modal-close" id="closeModal">&times;</button>
</div>
<div class="modal-body">
Are you sure you want to delete "<span id="resourceTitle"></span>"? This action cannot be undone.
</div>
<div class="modal-actions">
<button class="modal-btn cancel-btn" id="cancelDelete">Cancel</button>
<a href="#" class="modal-btn confirm-btn" id="confirmDelete">Delete</a>
</div>
</div>
</div>
<!-- AI Assistant -->
<div class="ai-assistant" id="aiAssistant">
<i class="fas fa-robot"></i>
<div class="ai-chat-header">
<div>AI Library Assistant</div>
<i class="fas fa-times" id="closeAssistant"></i>
</div>
<div class="ai-chat-messages">
<div class="ai-message ai">
Hello! I'm your AI library assistant. How can I help you find resources today?
</div>
</div>
<div class="ai-chat-input">
<input type="text" placeholder="Type your message...">
<button>
<i class="fas fa-paper-plane"></i>
</button>
</div>
</div>
<script>
$(document).ready(function() {
// Add dynamic AI elements
function createAIElement() {
const types = ['circuit', 'neural', 'data'];
const type = types[Math.floor(Math.random() * types.length)];
const element = document.createElement('div');
element.className = `ai-element ${type}`;
element.style.top = Math.random() * 100 + '%';
element.style.left = Math.random() * 100 + '%';
element.style.animationDelay = Math.random() * 5 + 's';
element.style.animationDuration = (15 + Math.random() * 10) + 's';
document.querySelector('.ai-bg').appendChild(element);
setTimeout(() => {
element.remove();
}, 25000);
}
// Create new AI elements periodically
setInterval(createAIElement, 3000);
// AI Assistant Toggle
$('#aiAssistant').click(function() {
if (!$(this).hasClass('active')) {
$(this).addClass('active');
$(this).html(`
<div class="ai-chat-header">
<div>AI Library Assistant</div>
<i class="fas fa-times" id="closeAssistant"></i>
</div>
<div class="ai-chat-messages">
<div class="ai-message ai">
Hello! I'm your AI library assistant. How can I help you find resources today?
</div>
</div>
<div class="ai-chat-input">
<input type="text" placeholder="Type your message...">
<button>
<i class="fas fa-paper-plane"></i>
</button>
</div>
`);
}
});
// Close AI Assistant
$(document).on('click', '#closeAssistant', function(e) {
e.stopPropagation();
$('#aiAssistant').removeClass('active');
$('#aiAssistant').html('<i class="fas fa-robot"></i>');
});
// Filter functionality
$('.filter-tag').click(function() {
$('.filter-tag').removeClass('active');
$(this).addClass('active');
// In a real app, this would filter the resources
// For demo purposes, we'll just show an alert
const filter = $(this).text();
if (filter !== 'All') {
alert(`Filtering by: ${filter}`);
}
});
// Search functionality
$('.search-button').click(function() {
const query = $('.search-input').val();
if (query) {
// In a real app, this would perform an actual search
alert(`Searching for: ${query}`);
}
});
// Resource actions
$('.view-btn').click(function() {
const title = $(this).closest('.resource-card').find('.resource-title').text();
alert(`Opening: ${title}`);
});

// Delete functionality
$('.delete-btn').click(function(e) {
    e.preventDefault();
    const resourceId = $(this).data('id');
    const resourceTitle = $(this).data('title');
    $('#resourceTitle').text(resourceTitle);
    
    // Update the confirm button to use a form submission
    $('#confirmDelete').attr('href', 'javascript:void(0)');
    $('#confirmDelete').off('click').on('click', function() {
        // Create a form to submit the POST request
        const form = document.createElement('form');
        form.method = 'POST';
        form.action = `/library/delete/${resourceId}`;
        document.body.appendChild(form);
        form.submit();
    });
    
    $('#deleteConfirmationModal').addClass('active');
});

// Close modal
$('#closeModal, #cancelDelete').click(function() {
    $('#deleteConfirmationModal').removeClass('active');
});

// Send message in AI chat
$(document).on('click', '.ai-chat-input button', function() {
const input = $('.ai-chat-input input');
const message = input.val().trim();
if (message) {
// Add user message
$('.ai-chat-messages').append(`
<div class="ai-message user">
${message}
</div>
`);
// Clear input
input.val('');
// Simulate AI response after a delay
setTimeout(function() {
$('.ai-chat-messages').append(`
<div class="ai-message ai">
I'm searching our library for resources related to "${message}". Please wait a moment...
</div>
`);
// Scroll to bottom
$('.ai-chat-messages').scrollTop($('.ai-chat-messages')[0].scrollHeight);
}, 1000);
}
});
// Allow sending message with Enter key
$(document).on('keypress', '.ai-chat-input input', function(e) {
if (e.which === 13) {
$('.ai-chat-input button').click();
}
});
});
</script>
</body>
</html>